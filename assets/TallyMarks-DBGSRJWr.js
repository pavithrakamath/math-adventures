import{r as $,R as T,j as e,m as l}from"./index-C7drGchA.js";const E=({count:x=0,mode:j="static",animated:r=!0,size:p="md",color:f="#3b82f6",className:o="",targetCount:i=0,onCountChange:h,showInstructions:g=!0})=>{const[t,d]=$.useState(x);T.useEffect(()=>{d(x)},[x]);const v={sm:"w-3 h-4",md:"w-4 h-6",lg:"w-6 h-8"},k={sm:"space-x-1",md:"space-x-1.5",lg:"space-x-2"},N=()=>{const s=t+1;d(s),h?.(s),s%5===0&&console.log(`Group of 5 completed! Total: ${s}`)},w=()=>{if(t>0){const s=t-1;d(s),h?.(s)}},M=()=>{d(0),h?.(0)},y=(s,a)=>{const c=[],n=s===5;for(let m=0;m<Math.min(s,4);m++)c.push(e.jsx(l.div,{"data-testid":"vertical-line",className:`${v[p]} border-l-2`,style:{borderColor:f},initial:r?{scaleY:0}:{scaleY:1},animate:{scaleY:1},transition:{duration:.3,delay:r?a*.5+m*.1:0}},`vertical-${a}-${m}`));return n&&c.push(e.jsx(l.div,{"data-testid":"diagonal-line",className:"absolute inset-0 flex items-center justify-center",initial:r?{opacity:0}:{opacity:1},animate:{opacity:1},transition:{duration:.3,delay:r?a*.5+.4:0},children:e.jsx("div",{className:"w-16 h-0.5",style:{backgroundColor:f}})},`diagonal-${a}`)),e.jsx("div",{className:"flex items-end relative",children:c},a)},b=()=>{const s=[],a=Math.floor(t/5),c=t%5;for(let n=0;n<a;n++)s.push(y(5,n));return c>0&&s.push(y(c,a)),s},u=(()=>{if(i===0)return null;const s=t-i;return s===0?{text:"ðŸŽ‰ Perfect!",color:"text-green-600"}:Math.abs(s)===1?{text:"Close! Keep going!",color:"text-yellow-600"}:s<0?{text:`Add ${i-t} more!`,color:"text-blue-600"}:{text:`Remove ${t-i}!`,color:"text-red-600"}})();return t<0?e.jsx("div",{className:`flex items-center justify-center ${o}`,children:e.jsx("span",{className:"text-gray-400 text-sm",children:"No marks"})}):j==="interactive"?e.jsx("div",{className:`w-full max-w-2xl mx-auto ${o}`,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[g&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Interactive Tally Marks"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'Click "Add Mark" to add tally marks. Every 5th mark gets a diagonal line through the group!'}),i>0&&e.jsxs("p",{className:"text-sm font-medium text-blue-600",children:["Target: ",i," marks"]})]}),e.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg min-h-[120px]",children:e.jsx("div",{className:"flex flex-wrap items-center gap-4",children:t===0?e.jsx("div",{className:"text-gray-400 text-center w-full py-8",children:'No marks yet. Click "Add Mark" to start!'}):e.jsx("div",{className:"flex flex-wrap items-center gap-6",children:b()})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:t}),e.jsx("div",{className:"text-sm text-gray-600",children:t===1?"mark":"marks"}),u&&e.jsx(l.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`mt-2 text-sm font-medium ${u.color}`,children:u.text})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center space-x-2","aria-label":"Add one tally mark",children:[e.jsx("span",{children:"+"}),e.jsx("span",{children:"Add Mark"})]}),e.jsxs(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,disabled:t===0,className:"px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center space-x-2","aria-label":"Remove one tally mark",children:[e.jsx("span",{children:"-"}),e.jsx("span",{children:"Remove"})]}),e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors","aria-label":"Reset all tally marks",children:"Reset"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Tally Mark Rules:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Each mark represents 1 item"}),e.jsx("li",{children:"â€¢ Group marks in sets of 5"}),e.jsx("li",{children:"â€¢ Draw a diagonal line through every 5th mark"}),e.jsx("li",{children:"â€¢ This makes counting easier!"})]})]})]})}):t===0?e.jsx("div",{className:`flex items-center justify-center ${o}`,children:e.jsx("span",{className:"text-gray-400 text-sm",children:"No marks"})}):e.jsxs("div",{className:`flex items-end ${k[p]} ${o}`,children:[b(),e.jsxs(l.span,{className:"ml-2 text-sm font-medium text-gray-600",initial:r?{opacity:0}:{opacity:1},animate:{opacity:1},transition:{duration:.3,delay:r?Math.floor(t/5)*.5+.6:0},children:["= ",t]})]})};export{E as default};
