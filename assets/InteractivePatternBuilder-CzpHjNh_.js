import{r as g,j as e,m as c}from"./index-5LhQW9Oc.js";const P=({patternType:m="mixed",onPatternChange:p,showAnswer:j=!1})=>{const[n,u]=g.useState([]),[b,d]=g.useState(!1),f=[1,2,3,4,5,6,7,8,9,10],v=[{emoji:"🔴",name:"Circle"},{emoji:"🔵",name:"Square"},{emoji:"🔺",name:"Triangle"},{emoji:"⭐",name:"Star"},{emoji:"💎",name:"Diamond"},{emoji:"❤️",name:"Heart"}],N=[{emoji:"🔴",name:"Red"},{emoji:"🟡",name:"Yellow"},{emoji:"🔵",name:"Blue"},{emoji:"🟢",name:"Green"},{emoji:"🟣",name:"Purple"},{emoji:"🟠",name:"Orange"}],x=s=>{const l=[...n,s];u(l),p?.(l),C(l)},y=s=>{const l=n.filter((o,r)=>r!==s);u(l),p?.(l),d(!1)},w=()=>{u([]),p?.([]),d(!1)},C=s=>{if(s.length<3)return;const l=s.every(t=>t.type==="number"),o=s.every(t=>t.type==="shape"),r=s.every(t=>t.type==="color");if(l){const t=s.map(i=>Number(i.value)),a=[];for(let i=1;i<t.length;i++)a.push(t[i]-t[i-1]);a.length>=2&&a.every(i=>i===a[0])&&d(!0)}else if(o||r){const t=s.map(a=>a.value);if(t.length>=4){const a=Math.floor(t.length/2),i=t.slice(0,a),S=t.slice(a,a*2);JSON.stringify(i)===JSON.stringify(S)&&d(!0)}}},h=(()=>{if(n.length===0)return null;const s=n[n.length-1];if(n.every(o=>o.type==="number")){const o=n.map(t=>Number(t.value)),r=[];for(let t=1;t<o.length;t++)r.push(o[t]-o[t-1]);if(r.length>=2&&r.every(t=>t===r[0]))return{type:"number",value:Number(s.value)+r[0],id:`next-${Date.now()}`}}return null})(),k=(s,l)=>e.jsxs(c.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"flex flex-col items-center space-y-1 p-2 bg-white rounded-lg shadow-md border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[e.jsx("div",{className:"text-2xl",children:s.emoji||s.value}),e.jsx("div",{className:"text-xs text-gray-600",children:s.type}),e.jsx("button",{onClick:()=>y(l),className:"text-red-500 hover:text-red-700 text-xs",children:"✕"})]},s.id);return e.jsx("div",{className:"w-full max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Interactive Pattern Builder"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create patterns by adding elements. Try to find the rule!"})]}),e.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg min-h-[120px]",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.length===0?e.jsx("div",{className:"text-gray-400 text-center w-full py-8",children:"Start building your pattern by selecting elements below!"}):n.map((s,l)=>k(s,l)),h&&j&&e.jsxs(c.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"flex flex-col items-center space-y-1 p-2 bg-green-100 rounded-lg border-2 border-green-300",children:[e.jsx("div",{className:"text-2xl",children:h.value.toString()}),e.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Next!"})]})]})}),b&&e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-100 border border-green-300 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:"🎉"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-800",children:"Great job!"}),e.jsx("div",{className:"text-sm text-green-700",children:"You found a pattern!"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[(m==="number"||m==="mixed")&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Numbers:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(s=>e.jsx(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x({id:`num-${Date.now()}-${s}`,type:"number",value:s}),className:"px-3 py-2 bg-blue-100 hover:bg-blue-200 text-blue-800 rounded-lg font-medium transition-colors",children:s},s))})]}),(m==="shape"||m==="mixed")&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Shapes:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(s=>e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x({id:`shape-${Date.now()}-${s.name}`,type:"shape",value:s.name,emoji:s.emoji}),className:"px-3 py-2 bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e.jsx("span",{children:s.emoji}),e.jsx("span",{children:s.name})]},s.name))})]}),(m==="color"||m==="mixed")&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Colors:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(s=>e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x({id:`color-${Date.now()}-${s.name}`,type:"color",value:s.name,emoji:s.emoji}),className:"px-3 py-2 bg-pink-100 hover:bg-pink-200 text-pink-800 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e.jsx("span",{children:s.emoji}),e.jsx("span",{children:s.name})]},s.name))})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Pattern length: ",n.length]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:"Clear"}),h&&e.jsx(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(h),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:"Add Next"})]})]})]})})};export{P as default};
