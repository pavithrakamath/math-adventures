import{R as g,j as e,r as i,B as u}from"./index-C7drGchA.js";import{h}from"./PatternRelationshipsVisualizer-DL8lzv5r.js";import"./zap-B_uEhrCJ.js";const v=g.forwardRef(({className:m,children:t,...l},d)=>e.jsx("div",{ref:d,className:h("rounded-lg border bg-card text-card-foreground shadow-sm",m),...l,children:t}));v.displayName="Card";const w=g.forwardRef(({className:m,children:t,...l},d)=>e.jsx("div",{ref:d,className:h("flex flex-col space-y-1.5 p-6",m),...l,children:t}));w.displayName="CardHeader";const C=g.forwardRef(({className:m,children:t,...l},d)=>e.jsx("div",{ref:d,className:h("p-6 pt-0",m),...l,children:t}));C.displayName="CardContent";const T=g.forwardRef(({className:m,children:t,...l},d)=>e.jsx("h3",{ref:d,className:h("text-2xl font-semibold leading-none tracking-tight",m),...l,children:t}));T.displayName="CardTitle";const Y=({className:m=""})=>{const[t,l]=i.useState("game1"),[d,A]=i.useState(50),[p,k]=i.useState(5),[a,f]=i.useState({currentNumber:0,targetNumber:21,maxAdd:3,isPlayerTurn:!0,gameOver:!1,winner:null,moves:[]}),[N,j]=i.useState(!1),b=i.useCallback(()=>{const s={game1:{target:21,maxAdd:3},game2:{target:99,maxAdd:10},custom:{target:d,maxAdd:p}};f({currentNumber:0,targetNumber:s[t].target,maxAdd:s[t].maxAdd,isPlayerTurn:!0,gameOver:!1,winner:null,moves:[]}),j(!1)},[t,d,p]);i.useEffect(()=>{b()},[b]);const M=i.useCallback((s,n)=>{const c=n+1,r=[];for(let o=c;o<s;o+=c)r.push(o);return r},[]),y=i.useCallback((s,n,c)=>{const r=c+1;if(s%r===0)return Math.floor(Math.random()*c)+1;{const P=Math.ceil(s/r)*r-s;return Math.min(P,c)}},[]),S=i.useCallback(s=>{if(a.gameOver||!a.isPlayerTurn)return;const n=a.currentNumber+s,c=[...a.moves,{player:"player",added:s,newTotal:n}];let r={...a,currentNumber:n,moves:c,isPlayerTurn:!1};if(n>=a.targetNumber)r={...r,gameOver:!0,winner:"player"};else{const o=y(n,a.targetNumber,a.maxAdd),x=n+o;r={...r,currentNumber:x,moves:[...c,{player:"computer",added:o,newTotal:x}],isPlayerTurn:!0},x>=a.targetNumber&&(r={...r,gameOver:!0,winner:"computer"})}f(r)},[a,y]),G=M(a.targetNumber,a.maxAdd);return e.jsx("div",{className:`space-y-6 ${m}`,children:e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(T,{className:"text-2xl font-bold text-center",children:"ðŸŽ® The 21 Game & Variations"})}),e.jsxs(C,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Choose Game Mode:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(u,{variant:t==="game1"?"default":"outline",onClick:()=>l("game1"),className:"flex-1 min-w-[120px]",children:"Game 1: Target 21, Add 1-3"}),e.jsx(u,{variant:t==="game2"?"default":"outline",onClick:()=>l("game2"),className:"flex-1 min-w-[120px]",children:"Game 2: Target 99, Add 1-10"}),e.jsx(u,{variant:t==="custom"?"default":"outline",onClick:()=>l("custom"),className:"flex-1 min-w-[120px]",children:"Custom Game"})]})]}),t==="custom"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Number:"}),e.jsx("input",{type:"number",value:d,onChange:s=>A(parseInt(s.target.value)||50),className:"w-full p-2 border rounded",min:"10",max:"200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Add per Turn:"}),e.jsx("input",{type:"number",value:p,onChange:s=>k(parseInt(s.target.value)||5),className:"w-full p-2 border rounded",min:"2",max:"20"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Rules:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:["â€¢ Players take turns adding 1 to ",a.maxAdd," to the current number"]}),e.jsxs("li",{children:["â€¢ First player to reach ",a.targetNumber," wins!"]}),e.jsx("li",{children:"â€¢ You play against the computer"})]})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["Current Number: ",a.currentNumber]}),e.jsxs("div",{className:"text-lg",children:["Target: ",a.targetNumber," | Max Add: ",a.maxAdd]}),a.gameOver?e.jsx("div",{className:`text-2xl font-bold ${a.winner==="player"?"text-green-600":"text-red-600"}`,children:a.winner==="player"?"ðŸŽ‰ You Win!":"ðŸ¤– Computer Wins!"}):e.jsx("div",{className:"text-lg",children:a.isPlayerTurn?"Your turn!":"Computer is thinking..."})]}),!a.gameOver&&a.isPlayerTurn&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-center",children:"Your Move:"}),e.jsx("div",{className:"flex justify-center gap-3",children:Array.from({length:a.maxAdd},(s,n)=>n+1).map(s=>e.jsxs(u,{onClick:()=>S(s),disabled:a.currentNumber+s>a.targetNumber,className:"w-16 h-16 text-xl font-bold",variant:"outline",children:["+",s]},s))})]}),e.jsx("div",{className:"text-center",children:e.jsxs(u,{onClick:()=>j(!N),variant:"outline",className:"mb-4",children:[N?"Hide":"Show"," Winning Strategy"]})}),N&&e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"ðŸŽ¯ Winning Strategy:"}),e.jsxs("p",{className:"text-sm mb-3",children:["The key is to leave your opponent with numbers that are multiples of ",a.maxAdd+1,". This way, no matter what they add (1 to ",a.maxAdd,"), you can always add enough to reach the next multiple."]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium",children:["Winning positions: ",G.join(", ")]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Pattern:"})," Every ",a.maxAdd+1," numbers starting from ",a.maxAdd+1]})]})]}),a.moves.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:"Move History:"}),e.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:a.moves.map((s,n)=>e.jsxs("div",{className:"text-sm p-2 bg-gray-100 rounded",children:[e.jsx("span",{className:s.player==="player"?"text-blue-600":"text-red-600",children:s.player==="player"?"You":"Computer"})," ","added ",s.added," â†’ ",s.newTotal]},n))})]}),e.jsx("div",{className:"text-center",children:e.jsx(u,{onClick:b,variant:"outline",children:"ðŸ”„ New Game"})})]})]})})};export{Y as TwentyOneGameVisualizer,Y as default};
