import{r as d,j as e}from"./index-C7drGchA.js";import{L as v,C as w,A as C}from"./PatternRelationshipsVisualizer-DL8lzv5r.js";import{R as x,P as S}from"./repeat-B0trKn2H.js";import"./zap-B_uEhrCJ.js";function T({initialNumber:g=27}){const[l,b]=d.useState(g.toString()),[t,a]=d.useState([]),[m,i]=d.useState(!1),[o,c]=d.useState(!1),p=()=>{const s=parseInt(l);isNaN(s)||s<=0||(a([s]),c(s===1),i(!1))},j=()=>{if(o||t.length===0)return;const s=t[t.length-1];if(s===1){c(!0);return}let r;s%2===0?r=s/2:r=3*s+1,a(n=>[...n,r])},u=()=>{a([]),c(!1),i(!1)},f=()=>{const s=parseInt(l);if(isNaN(s)||s<=0)return;i(!0);const r=[s];let n=s;for(;n!==1&&(n%2===0?n=n/2:n=3*n+1,r.push(n),!(r.length>1e3)););a(r),c(!0),i(!1)},h=()=>t.length>0?t[t.length-1]:parseInt(l)||0,N=()=>{const s=h();return s===1?null:s%2===0?e.jsxs("p",{className:"text-gray-600",children:["The current number, ",e.jsx("strong",{className:"text-gray-900",children:s}),", is"," ",e.jsx("strong",{className:"text-blue-500",children:"EVEN"}),". The rule is to divide by 2."]}):e.jsxs("p",{className:"text-gray-600",children:["The current number, ",e.jsx("strong",{className:"text-gray-900",children:s}),", is"," ",e.jsx("strong",{className:"text-amber-500",children:"ODD"}),". The rule is to multiply by 3 and add 1."]})},y=()=>{const s=h();return s===1?null:s%2===0?e.jsxs("span",{className:"font-mono text-lg",children:[s," Ã· 2 = ",s/2]}):e.jsxs("span",{className:"font-mono text-lg",children:["(3 Ã— ",s,") + 1 = ",3*s+1]})};return e.jsxs("div",{className:"bg-white rounded-lg border p-6 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-2 flex items-center justify-center",children:[e.jsx(v,{className:"mr-2 h-5 w-5 text-blue-600"}),"The Collatz Conjecture Journey"]}),e.jsx("p",{className:"text-gray-600",children:"Watch any number transform into 1 following simple rules!"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The Collatz Conjecture is a famous unsolved problem in mathematics. It says if you take any positive number and follow these simple rules, you will always eventually reach 1. Let's try it out!"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Enter a starting number:"}),e.jsx("input",{type:"number",value:l,onChange:s=>b(s.target.value),className:"w-full p-3 border rounded-lg text-center text-lg",placeholder:"Enter a positive number",min:"1"})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx("button",{onClick:p,disabled:!l||parseInt(l)<=0,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg disabled:opacity-50 font-semibold",children:"Start Journey"}),e.jsxs("button",{onClick:f,disabled:!l||parseInt(l)<=0||m,className:"px-6 py-2 border border-green-500 text-green-700 hover:bg-green-50 rounded-lg disabled:opacity-50 font-semibold flex items-center",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),m?"Running...":"Run All Steps"]}),e.jsxs("button",{onClick:u,className:"px-6 py-2 border border-gray-500 text-gray-700 hover:bg-gray-50 rounded-lg font-semibold flex items-center",children:[e.jsx(x,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]}),t.length>0&&e.jsx("div",{className:"flex flex-wrap items-center gap-2 rounded-lg bg-gray-50 p-4 shadow-inner min-h-[6rem] mb-4",children:t.map((s,r)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`flex h-10 w-10 items-center justify-center rounded-md border text-xl font-bold bg-white transition-all ${r===t.length-1&&!o?"border-2 border-blue-500 ring-2 ring-blue-200":"border-gray-300"}`,children:s}),r<t.length-1&&e.jsx(C,{className:"h-5 w-5 text-gray-400"})]},r))}),t.length>0&&!o&&e.jsxs("div",{className:"mt-4 rounded-lg bg-gray-50 p-4",children:[e.jsx("h4",{className:"font-bold mb-2",children:"What's the next step?"}),N(),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-semibold",children:"Calculate Next Number"}),e.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:y()})]})]}),o&&e.jsxs("div",{className:"mt-6 rounded-lg border border-green-500 bg-green-50 p-4 text-green-800",children:[e.jsxs("h4",{className:"font-bold flex items-center",children:[e.jsx(S,{className:"mr-2 h-5 w-5"}),"You reached 1!"]}),e.jsxs("p",{className:"mt-2",children:["Amazing! You've seen the conjecture in action. The sequence took ",t.length-1," steps to reach 1. No matter what number mathematicians have tried, they've always ended up at 1. It's a simple pattern, but nobody has been able to prove it's true for ALL numbers."]}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sequence length:"})," ",t.length," numbers"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Steps taken:"})," ",t.length-1]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Peak value:"})," ",Math.max(...t)]})]}),e.jsxs("button",{onClick:u,className:"mt-4 px-4 py-2 border border-green-500 text-green-800 hover:bg-green-100 hover:text-green-900 rounded-lg font-semibold flex items-center",children:[e.jsx(x,{className:"mr-2"})," Try Another Number"]})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600 bg-yellow-50 p-3 rounded-lg",children:e.jsxs("p",{children:["ðŸ’¡ ",e.jsx("strong",{children:"Fun Fact:"})," Try numbers like 27, 15, or 7 to see interesting sequences!"]})})]})}export{T as CollatzVisualizer,T as default};
