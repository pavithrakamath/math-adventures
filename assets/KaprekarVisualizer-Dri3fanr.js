import{r as p,j as e}from"./index-C7drGchA.js";import{g as C,C as I,A as q}from"./PatternRelationshipsVisualizer-DL8lzv5r.js";import{R as N,P as T}from"./repeat-B0trKn2H.js";import"./zap-B_uEhrCJ.js";const z=({initialNumber:y="1234"})=>{const[l,v]=p.useState(y),[r,c]=p.useState([]),[h,o]=p.useState(!1),[m,u]=p.useState(!1),d=t=>/^\d{4}$/.test(t)?new Set(t.split("")).size>1:!1,g=(t,s)=>{const n=t.padStart(4,"0"),a=n.split("").sort(),i=a.join(""),b=a.reverse().join(""),j=(parseInt(b)-parseInt(i)).toString().padStart(4,"0");return{stepNumber:s,currentNumber:n,largest:b,smallest:i,difference:j,isKaprekar:j==="6174"}},S=()=>{if(!d(l))return;const t=g(l,1);c([t]),u(t.difference==="6174"),o(!1)},k=()=>{if(m||r.length===0)return;const t=r[r.length-1];if(t.difference==="6174"){const n={stepNumber:r.length+1,currentNumber:"6174",largest:"7641",smallest:"1467",difference:"6174",isKaprekar:!0};c(a=>[...a,n]),u(!0);return}const s=g(t.difference,r.length+1);c(n=>[...n,s]),s.difference},f=()=>{c([]),u(!1),o(!1)},w=()=>{if(!d(l))return;o(!0);const t=[];let s=l,n=1;for(;n<=7;){const a=g(s,n);if(t.push(a),a.difference==="6174"){const i={stepNumber:n+1,currentNumber:"6174",largest:"7641",smallest:"1467",difference:"6174",isKaprekar:!0};t.push(i);break}s=a.difference,n++}c(t),u(!0),o(!1)},x=()=>r.length>0?r[r.length-1]:null,R=()=>{const t=x();return!t||t.currentNumber==="6174"&&t.isKaprekar?null:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-gray-600 text-center",children:"Take the current number and rearrange its digits:"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500 text-sm",children:"Current Number"}),e.jsx("div",{className:"font-mono text-xl font-bold bg-gray-100 px-3 py-2 rounded",children:t.currentNumber})]}),e.jsx("div",{className:"text-gray-400",children:"â†’"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Largest to Smallest"}),e.jsx("div",{className:"font-mono text-xl font-bold bg-blue-50 text-blue-800 px-3 py-2 rounded",children:t.largest})]}),e.jsx("div",{className:"text-xl font-bold text-gray-600",children:"-"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-green-600 text-sm font-medium",children:"Smallest to Largest"}),e.jsx("div",{className:"font-mono text-xl font-bold bg-green-50 text-green-800 px-3 py-2 rounded",children:t.smallest})]}),e.jsx("div",{className:"text-xl font-bold text-gray-600",children:"="}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-purple-600 text-sm font-medium",children:"Result"}),e.jsx("div",{className:"font-mono text-xl font-bold bg-purple-50 text-purple-800 px-3 py-2 rounded",children:t.difference})]})]})]})},K=()=>{const t=x();return!t||t.currentNumber==="6174"&&t.isKaprekar?null:e.jsxs("span",{className:"font-mono text-lg",children:[t.largest," - ",t.smallest," = ",t.difference]})};return e.jsxs("div",{className:"bg-white rounded-lg border p-6 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-2 flex items-center justify-center",children:[e.jsx(C,{className:"mr-2 h-5 w-5 text-purple-600"}),"Kaprekar's Magic Number Journey"]}),e.jsx("p",{className:"text-gray-600",children:"Watch any 4-digit number transform into 6174 following Kaprekar's process!"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Kaprekar's process is a fascinating mathematical operation. Take any 4-digit number with at least two different digits, arrange the digits from largest to smallest and smallest to largest, then subtract. Repeat this process and you'll always reach 6174 - Kaprekar's constant!"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Enter a 4-digit number (with at least 2 different digits):"}),e.jsx("input",{type:"text",value:l,onChange:t=>v(t.target.value),className:"w-full p-3 border rounded-lg text-center text-lg",placeholder:"1234",maxLength:4}),l.length===4&&!d(l)&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please use at least 2 different digits (e.g., not 1111)"})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx("button",{onClick:S,disabled:!d(l),className:"px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg disabled:opacity-50 font-semibold",children:"Start Journey"}),e.jsxs("button",{onClick:w,disabled:!d(l)||h,className:"px-6 py-2 border border-green-500 text-green-700 hover:bg-green-50 rounded-lg disabled:opacity-50 font-semibold flex items-center",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),h?"Running...":"Run All Steps"]}),e.jsxs("button",{onClick:f,className:"px-6 py-2 border border-gray-500 text-gray-700 hover:bg-gray-50 rounded-lg font-semibold flex items-center",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]}),r.length>0&&e.jsx("div",{className:"flex flex-wrap items-center gap-2 rounded-lg bg-gray-50 p-4 shadow-inner min-h-[6rem] mb-4",children:r.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`flex h-12 w-16 items-center justify-center rounded-md border text-sm font-bold bg-white transition-all ${s===r.length-1&&!m?"border-2 border-purple-500 ring-2 ring-purple-200":t.isKaprekar?"border-2 border-green-500 bg-green-50":"border-gray-300"}`,children:t.currentNumber}),s<r.length-1&&e.jsx(q,{className:"h-5 w-5 text-gray-400"})]},s))}),r.length>0&&!m&&e.jsxs("div",{className:"mt-4 rounded-lg bg-gray-50 p-4",children:[e.jsx("h4",{className:"font-bold mb-2",children:(()=>{const t=x();if(!t)return"What's the next step?";const s=t.difference.split("").sort(),n=s.join(""),a=s.reverse().join("");return(parseInt(a)-parseInt(n)).toString().padStart(4,"0")==="6174"?"Final step - reaching Kaprekar's constant!":"What's the next step?"})()}),R(),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx("button",{onClick:k,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-semibold",children:(()=>{const t=x();if(!t)return"Calculate Next Number";const s=t.difference.split("").sort(),n=s.join(""),a=s.reverse().join("");return(parseInt(a)-parseInt(n)).toString().padStart(4,"0")==="6174"?"Show 6174!":"Calculate Next Number"})()}),e.jsx("div",{className:"bg-purple-100 p-2 rounded-md",children:K()})]})]}),m&&e.jsxs("div",{className:"mt-6 rounded-lg border border-green-500 bg-green-50 p-4 text-green-800",children:[e.jsxs("h4",{className:"font-bold flex items-center",children:[e.jsx(T,{className:"mr-2 h-5 w-5"}),"You reached 6174 - Kaprekar's Constant!"]}),e.jsxs("p",{className:"mt-2",children:["Incredible! You've witnessed the magic of Kaprekar's process. The sequence took ",r.length-1," steps to reach 6174. This amazing mathematical constant was discovered by D.R. Kaprekar, and remarkably, every 4-digit number (with at least two different digits) will eventually reach 6174!"]}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sequence length:"})," ",r.length," numbers"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Steps taken:"})," ",r.length-1]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Starting number:"})," ",l]})]}),e.jsxs("button",{onClick:f,className:"mt-4 px-4 py-2 border border-green-500 text-green-800 hover:bg-green-100 hover:text-green-900 rounded-lg font-semibold flex items-center",children:[e.jsx(N,{className:"mr-2"})," Try Another Number"]})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600 bg-yellow-50 p-3 rounded-lg",children:e.jsxs("p",{children:["ðŸ’¡ ",e.jsx("strong",{children:"Fun Fact:"})," Try numbers like 3524, 1001, or 2005 to see interesting transformation paths!"]})})]})};export{z as KaprekarVisualizer,z as default};
